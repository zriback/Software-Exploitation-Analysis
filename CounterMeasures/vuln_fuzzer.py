#!/usr/bin/python3

import subprocess as sp
import sys

# Python fuzzer

def main():
    
    filename = "./" + sys.argv[1]

    for i in range(1, 3000):
        garbage = "A"*i
        
        print("Trying " + str(i) + " A's - ", end="")
        val = sp.call("echo " + garbage + " | " + filename, shell=True)
        print(str(val))
        if val != 0:
            break


if __name__ == "__main__":
    main()
